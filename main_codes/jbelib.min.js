function JBE_OPENBOX(t,e,o,n){var i='<div id="myJBox_main" data-open=0 data-close="" class="bottom_box" style="height:0px;background:'+JBE_CLOR+';"><div id="hd_jbox" class="hd_box" style="width:100%;height:30px;font-size:15px;font-weight:bold;border:1px solid black;background:none;"><div style="float:left;width:10%;height:100%;background:none;"><input type="button" onclick="JBE_CLOSEBOX()" style="width:28px;height:100%;font-size:14px;color:white;border-radius:50%;border:1px solid white;background:red;" value="X" /></div><div id="cap_jbox" style="float:right;text-align:right;width:90%;height:100%;padding:5px;color:'+JBE_TXCLOR1+';background:none;">'+e+'</div></div><div id="dtl_jbox" style="width:100%;height:auto;padding:5px;overflow:auto;border:1px solid black;color:black;background:white;">'+o+'</div><div id="footer_jbox" class="jfooter" style="display:block;height:50px;width:100%;color:'+JBE_TXCLOR1+";background:"+JBE_CLOR+';">'+n+"</div></div>";document.getElementById("myJBox").innerHTML=i,document.getElementById("myJBox").style.height=window.innerHeight+"px";var a=parseInt(document.getElementById(t).style.height),r=a+30+50;document.getElementById("dtl_jbox").style.height=a+"px",document.getElementById("myJBox_main").style.height=r+"px",document.getElementById("myJBox").style.height=window.innerHeight+"px",document.getElementById(t).style.height="auto",document.getElementById(t).style.width="100%",document.getElementById(t).style.height=a-12+"px"}function JBE_CLOSEBOX(){var t=document.getElementById("myJBox_main").getAttribute("data-close");document.getElementById("myJBox").style.height="0px",document.getElementById("myJBox_main").style.height="0px",document.getElementById("myJBox").style.height="0px",document.getElementById("myJBox").setAttribute("data-open","0");var e=window[t];"function"==typeof e&&e()}function sortByMultipleKey(t){return function(e,o){if(0==t.length)return 0;if(key=t[0],"*"==key.substr(0,1)){if(key=key.substr(1),e[key]<o[key])return 1;if(e[key]>o[key])return-1}return e[key]<o[key]?-1:e[key]>o[key]?1:sortByMultipleKey(t.slice(1))(e,o)}}function showProgress(t){var e="block";t||(e="none"),document.getElementById("loading").style.display=e}function JBE_ZOOM(t,e){JBE_OPENBOX("main_JBE_zoom","Zoom Image",'<div id="main_JBE_zoom" data-zoom=0 data-close="'+e+'" style="width:100%;height:'+(H_BODY-100)+'px;text-align:center;background-color:none;"><img id="img_JBE_zoom" onclick="JBE_zoom2()" src="'+t+'" style="width:100%;height:auto;"></div>','<div style="width:100%;height:100%;padding:11px 0 0 0;text-align:center;color:'+JBE_TXCLOR1+';background:none;">Click the Image to Zoom In or Zoom Out</div>')}function close_JBE_ZOOM(){var t=document.getElementById("main_JBE_zoom").getAttribute("data-close"),e=window[t];"function"==typeof e&&e()}function JBE_zoom2(){var t=document.getElementById("main_JBE_zoom"),e=parseInt(document.getElementById("main_JBE_zoom").getAttribute("data-zoom")),o=document.getElementById("img_JBE_zoom").src,n=0,i=0,a=new Image;a.src=o,a.onload=function(){n=a.naturalWidth,i=a.naturalHeight;var o=H_BODY*(n/i),r=H_BODY;0==e?(t.style.height=r+"px",t.style.width=o+"px",document.getElementById("main_JBE_zoom").setAttribute("data-zoom",1)):(t.style.height="auto",t.style.width="100%",document.getElementById("main_JBE_zoom").setAttribute("data-zoom",0))}}function JBE_PICK_IMAGE(t,e,o){thisFile=null;var n=document.getElementById(t);n.setAttribute("accept","image/*"),n.addEventListener("change",function(){if(n.value){var t=new FileReader,i=event.target.files[0].size;t.onload=function(){if(i>6e6)MSG_SHOW(vbOk,"ERROR: ","File is too big. Maximum is 6mb.",function(){},function(){});else{document.getElementById(e).src=t.result;var n=window[o];"function"==typeof n&&n(t.result)}},t.readAsDataURL(event.target.files[0]),thisFile=this.files[0],document.getElementById(e).setAttribute("data-img",thisFile.name),n.value=""}}),n.click()}function JBE_GETFLD(t,e,o,n){for(var i="",a=0;a<e.length;a++)if(n==e[a][o]){i=e[a][t];break}return i}function JBE_GETARRY(t,e,o){for(var n=[],i=0;i<t.length;i++)if(o==t[i][e]){n=t[i];break}return n}function JBE_IMG_EXIST(t){var e=document.createElement("img");e.src=t,e.onload=function(t){return!0},e.onerror=function(t){return!1}}var JBE_LAT,JBE_LNG,GEO_MODE=0;function JBE_GETLOCATION(){showProgress(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(jbe_updatePosition,jbe_showError):MSG_SHOW(vbOk,"ERROR:","Geolocation is not supported by this app.",function(){},function(){}),showProgress(!1)}function jbe_updatePosition(t){if(0==GEO_MODE)return document.getElementById("flat2").value=t.coords.latitude,void(document.getElementById("flng2").value=t.coords.longitude);showProgress(!0),axios.post(JBE_API+"z_user.php",{clientno:CURR_CLIENT,request:302,lat:t.coords.latitude,lng:t.coords.longitude,usercode:CURR_USER},JBE_HEADER).then(function(t){DB_USER=t.data,get_db_clients(),showProgress(!1),0!=GEO_MODE&&snackBar("Location Updated")}).catch(function(t){snackBar("ERROR: "+t),showProgress(!1)})}function jbe_showError(t){if(0!=GEO_MODE){var e="XXX";switch(t.code){case t.PERMISSION_DENIED:e="Please turn on your Location.";break;case t.POSITION_UNAVAILABLE:e="Location information is unavailable.";break;case t.TIMEOUT:e="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:e="An unknown error occurred."}showProgress(!1),MSG_SHOW(vbOk,"ERROR:",e,function(){},function(){})}}function JBE_BASE64(t,e){var o=new Image;o.src=t,o.onload=function(){var o=document.createElement("canvas"),n=o.getContext("2d");o.height=this.naturalHeight,o.width=this.naturalWidth,n.drawImage(this,0,0),o.toDataURL(),e(t)}}function JBE_BLOB(t,e){return new Promise(o=>{JBE_getBLOB(t,e,function(t){o(t)})})}function JBE_getBLOB(t,e,o){var n=document.createElement("canvas");const i=n.getContext("2d");var a=new Image;a.setAttribute("crossorigin","anonymous"),a.src=e,JBE_ONLINE||(a.onerror=a.onerror=null,a.src="../../main_gfx/jsite.png"),a.onload=function(){n.width=a.width,n.height=a.height,i.drawImage(a,0,0),n.toBlob(function(t){var e=new FileReader;e.readAsBinaryString(t),e.onload=function(t){var e=t.target.result;o(e)}})}}function JBE_AUDIO(t,e){navigator.vibrate(e);var o=document.getElementById("myAudio");o.pause(),o.src="../../main_gfx/snd/"+t+".mp3",o.src="../../main_gfx/snd/"+t+".ogg",o.load(),o.play()}