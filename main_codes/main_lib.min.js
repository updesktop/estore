function callText(){JBE_ONLINE;for(var e="Call/Text Contact",t='<div id="div_calltext" data-zoom=0 style="width:100%;height:'+(H_BODY-300)+'px;overflow:auto;text-align:center;padding:0px;background-color:white;">',n=0;n<DB_CLIENTS.length;n++)"0"!=DB_CLIENTS[n].usertype&&(t+='<div style="width:100%;height:40px;margin-top:5px;padding:5px;text-align:left;font-size:12px;background-color:lightgray;"><div style="float:left;width:35%;height:100%;padding:8px 0 0 5px;background-color:none;">'+DB_CLIENTS[n].username+'</div><div style="float:left;width:35%;height:100%;padding:8px 0 0 5px;background-color:none;">'+DB_CLIENTS[n].celno+'</div><input onclick="callTextGO(&quot;call&quot;,&quot;'+DB_CLIENTS[n].celno+'&quot;)" type="image" src="../../main_gfx/jcall.png" style="float:right;text-align:right;padding:0px 5px 0 0;height:100%;margin-left:10px;background:none;" /><input onclick="callTextGO(&quot;txt&quot;,&quot;'+DB_CLIENTS[n].celno+'&quot;)" type="image" src="../../main_gfx/jsms.png" style="float:right;text-align:right;padding:0px 5px 0 0;height:100%;background:none;" /></div>');t+="</div>";var o='<div style="width:100%;height:100%;padding:11px 0 0 0;text-align:center;color:'+JBE_TXCLOR1+';background:none;">'+e+"</div>";JBE_OPENBOX("div_calltext",e,t,o)}function callTextGO(e,t){"0"==t.substring(0,1)&&(t="+63"+t.substring(1));var n="";"call"==e?n="tel:"+t:"txt"==e&&(n="sms://"+t+"?body=I%27m%20interested%20in%20your%20product.%20Please%20contact%20me."),window.location.href=n}function close_calltext(){}function jeff(){alert("DB_USER: "+DB_USER.length+"\nDB_CAT: "+DB_CAT.length+"\nDB_STOCK: "+DB_STOCK.length+"\nDB_COMMENT: "+DB_COMMENT.length+"\nDB_SYS: "+DB_SYS.length)}function refreshMain(){location.reload(!0)}function setSysColors(){var e=DB_SYS;DB_SYS.length>0&&(JBE_CLOR=e[0].clor1,JBE_CLOR2=e[0].clor2,JBE_CLOR3=e[0].clor3,JBE_CLOR4=e[0].clor4,JBE_TXCLOR1=e[0].txclor1,JBE_TXCLOR2=e[0].txclor2,JBE_TXCLOR3=e[0].txclor3,JBE_TXCLOR4=e[0].txclor4),je_msg_color("white",JBE_CLOR),document.getElementById("modal-header").style.color=JBE_TXCLOR1,document.getElementById("modal-footer").style.color=JBE_TXCLOR1,document.getElementById("lognow").style.color=JBE_TXCLOR1,document.getElementById("lognow").style.backgroundColor=JBE_CLOR,EP_SetColorByClass("jheader",JBE_TXCLOR3,JBE_CLOR3),EP_SetColorByClass("jfooter",JBE_TXCLOR1,JBE_CLOR),EP_SetColorByClass("rowclass_dots",JBE_TXCLOR2,JBE_CLOR2),EP_SetColorByClass("hd_box",JBE_TXCLOR1,JBE_CLOR),EP_SetColorByClass("back_main",JBE_TXCLOR1,JBE_CLOR),EP_SetColorByClass("class_notif2",JBE_TXCLOR4,JBE_CLOR4),EP_SetColorByClass("footer_fonts",JBE_TXCLOR1,"none")}function setRecord(e){if("lightgreen",""!=CURR_REC){var t=document.getElementById("c_line"+CURR_REC),n=t.getAttribute("data-clor");t.style.backgroundColor=n,t.setAttribute("data-sel",0)}var o=document.getElementById("c_line"+e);o.style.backgroundColor="lightgreen",o.setAttribute("data-sel",1),CURR_REC=e}function EP_SetColorByClass(e,t,n){document.querySelectorAll("."+e).forEach(function(e){e.style.color=t,e.style.backgroundColor=n})}function selectRow(e,t){document.querySelectorAll("."+t).forEach(function(e){e.style.border="0px solid lightgray",e.style.color="black"}),document.getElementById(e).style.border="2px solid red",document.getElementById(e).style.color="red"}function subHover(e,t,n,o){if(1!=document.getElementById(e).getAttribute("data-sel")){var l=document.getElementById(e).getAttribute("data-clor");document.getElementById(e).style.backgroundColor=1==t?"yellowgreen":l}}function getExt(e){var t=e.split(".").pop();return t==e?"":t}function dispMenu(e,t){document.querySelectorAll(".menu_class").forEach(function(e){e.style.display="none"}),document.getElementById("mnu_main").style.display="none",document.getElementById("mnu_main_owner").style.display="none",e?(document.getElementById("mnu_mainmenu").style.display="block",document.getElementById(t).style.display="block"):(document.getElementById("mnu_submenu").style.display="block",document.getElementById("mnu_submenu").innerHTML=t)}function openPage(e){document.querySelectorAll(".page_class").forEach(function(e){e.style.display="none"}),document.getElementById(e).style.display="block"}function openView(e,t,n){document.getElementById("page_main").style.display="none";var o=parseInt(document.getElementById("myView1").getAttribute("data-JBEpage"));o++,document.getElementById("myView"+o).setAttribute("data-page",o),document.getElementById("myView"+o).setAttribute("data-close",n),document.getElementById("dtl_myView"+o).style.height=H_VIEW+"px",document.getElementById("dtl_myView"+o).innerHTML=e,document.getElementById("cap_myView"+o).innerHTML=t,1==o?openPage("myView"+o):(document.getElementById("myView"+(o-1)).style.display="none",document.getElementById("myView"+o).style.display="block"),document.getElementById("myView1").setAttribute("data-JBEpage",o)}function closeView(){var e=parseInt(document.getElementById("myView1").getAttribute("data-JBEpage")),t=document.getElementById("myView"+e).getAttribute("data-close"),n=t.indexOf("|"),o="";n>=0&&(o=t.substr(n+1),t=t.substr(0,n)),document.getElementById("myView"+e).setAttribute("data-open","0"),document.getElementById("myView"+e).style.display="none",e>1?(document.getElementById("myView"+(e-1)).style.display="block",document.getElementById("myView1").setAttribute("data-JBEpage",e-1)):document.getElementById("myView1").setAttribute("data-JBEpage",0);var l=window[t];"function"==typeof l&&l(o)}function loadDoc(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(document.getElementById(e).innerHTML=this.responseText)},n.open("GET",t,!0),n.send()}function snackBar(e){if(""!=e){var t=document.getElementById("snackbar");t.innerHTML=e,t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},3e3)}}function formatNumber(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function formatNumber2(e){return num=Number(e),num.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function jeffNumber(e,t){var n=document.getElementById(t).value.replace(/,/g,"");if(1==e)var o=formatNumber(n=parseInt(n));else 2==e&&(o=formatNumber2(n=parseFloat(n)));document.getElementById(t).value=o}function isNumberKey(e,t){var n=e.which?e.which:event.keyCode,o=document.getElementById(t).value;if(46==n)return(o.match(/'.'/g)||[]).length<1&&(o.indexOf(".")<1&&"."!=o.charAt(0));if(45==n){if(!((o.match(/'-'/g)||[]).length<1))return!1;if(o.indexOf("-")<1)return"-"!=o.charAt(0)}return!(46!=n&&n>31&&(n<48||n>57))}function jnumber(e){return e.replace(/,/g,"")}function nopath(e){var t=e.substr(e.lastIndexOf("/")+1);return-1!=t.indexOf("?")&&(t=t.substr(0,t.indexOf("?")+0)),t}function enadfy(e){for(i=0;i<e.length;i++)for(x in e[0]){coldata=e[i][x],-1!==coldata.search('"')&&(coldata=coldata.replace(/\"/g,"'")),-1!==coldata.search("~")&&(coldata=coldata.replace(/\~/g,'"')),e[i][x]=coldata}return e}function myDropMenu(e){closeDropdown(),document.getElementById("myDropdown_"+e).classList.toggle("show")}function closeDropdown(){var e,t=document.getElementsByClassName("dropdown-content");for(e=0;e<t.length;e++){var n=t[e];n.classList.contains("show")&&n.classList.remove("show")}}function je_msg_color(e,t){document.getElementById("modal-header").style.backgroundColor=t,document.getElementById("modal-footer").style.backgroundColor=t,document.getElementById("modal-body").style.backgroundColor=e}function mnu_offline(){dispMenu(!1,'<div style="width:100%;height:100%;"><div style="width:100%;height:100%;padding:12px 0 0 0;text-align:center;background:none;">OFFLINE</div></div>')}function save_get_image(e){if(null!=thisFile){var t=document.getElementById("prev_get_image").src;document.getElementById(e).src=t,document.getElementById(e).setAttribute("data-img",thisFile.name)}JBE_CLOSEBOX()}function uploadNOW(e,t,n,o){var l="../api"+n.substr(n.indexOf("/app/")),d=new FormData;d.append("file",e,t),d.append("dir",l);showProgress(!0),axios.post(JBE_API+"z_load.php",d,{}).then(function(e){if(console.log(e.data[1]),showProgress(!1),-1!=e.data[0]){if(snackBar(e.data[1]),0!=o.length)for(var l=0;l<o.length;l++)RefreshImage(n,t,o[l].div)}else MSG_SHOW(vbOk,"ERROR: Upload Failed",e.data[1],function(){},function(){})}).catch(function(e){console.log(e.message),showProgress(!1),MSG_SHOW(vbOk,"ERROR: Upload Failed",e.message,function(){},function(){})})}function RefreshImage(e,t,n){let o=e+t+"?"+(new Date).toLocaleTimeString("it-IT");document.getElementById(n).src=o}function getImgOrient(e){var t=0,n=parseInt(document.getElementById(e).clientHeight);return parseInt(document.getElementById(e).clientWidth)>n&&(t=1),t}function refreshNOTIF(e){var t=0,n=0,o=0,l=0;if(document.getElementById("div_notifs").style.display="block",CURR_AXTYPE>0){if(document.getElementById("div_notifs").style.display="none","chat"==e||"ALL"==e){for(var d=0;d<DB_CHAT.length;d++)"1"!=DB_CHAT[d].sender&&"1"!=DB_CHAT[d].unread&&t++;document.getElementById("ntf_chat_owner").innerHTML=t,document.getElementById("ntf_chat_owner").style.display="block",0==t?document.getElementById("ntf_chat_owner").style.display="none":JBE_AUDIO("inbox",300)}if("order"==e||"ALL"==e){var a=DB_ORDER;a.sort(sortByMultipleKey(["trano"]));for(d=0;d<a.length;d++)0==a[d].stat&&o++;document.getElementById("ntf_order_owner").innerHTML=o,document.getElementById("ntf_order_owner").style.display="block",0==o?document.getElementById("ntf_order_owner").style.display="none":JBE_AUDIO("chimes",300)}}else{if("cart"==e||"ALL"==e){for(d=0;d<DB_CART.length;d++)DB_CART[d].usercode==CURR_USER&&n++;document.getElementById("ntf_cart").style.display="block",document.getElementById("ntf_cart").innerHTML=n,document.getElementById("notif_cart").style.display="block",0==n?document.getElementById("ntf_cart").style.display="none":JBE_AUDIO("cart",0)}if("chat"==e||"ALL"==e){for(d=0;d<DB_CHAT.length;d++)DB_CHAT[d].usercode==CURR_USER&&"0"!=DB_CHAT[d].sender&&"1"!=DB_CHAT[d].unread&&t++;document.getElementById("ntf_chat").style.display="block",document.getElementById("ntf_chat").innerHTML=t,document.getElementById("notif_chat").style.display="block",0==t?document.getElementById("notif_chat").style.display="none":JBE_AUDIO("inbox",300)}if("bell"==e||"ALL"==e){for(d=0;d<DB_BELL.length;d++)DB_BELL[d].usercode==CURR_USER&&"1"!=DB_BELL[d].unread&&l++;document.getElementById("ntf_bell").style.display="block",document.getElementById("ntf_bell").innerHTML=l,document.getElementById("notif_bell").style.display="block",0==l?document.getElementById("ntf_bell").style.display="none":JBE_AUDIO("insight",300)}}}